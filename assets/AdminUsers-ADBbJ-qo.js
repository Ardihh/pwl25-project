import{_ as b,c as d,a as u,b as e,r as x,F as f,h,e as _,o as y,f as c,g as m,t as i,n as v}from"./index-DLIjiac4.js";import{A as w}from"./AdminNavbar-Isu584Ue.js";const k={components:{AdminNavbar:w},setup(){const l=_([]),t=async()=>{const a=await c.get("/admin/users");l.value=a.data.users},g=async(a,p)=>{const n=p==="admin"?"user":"admin";if(confirm(`Ubah role user ini menjadi ${n.toUpperCase()}?`))try{await c.put(`/admin/users/${a}/role`,{role:n}),alert("Role berhasil diperbarui!"),t()}catch(r){alert("Gagal mengubah role: "+(r.response?.data?.message||r.message))}},o=async a=>{confirm("Yakin hapus user ini?")&&(await c.delete(`/admin/users/${a}`),t())};return y(t),{users:l,deleteUser:o,changeRole:g}}},U={class:"min-h-screen bg-gray-50"},C={class:"p-8 max-w-7xl mx-auto"},A={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},$={class:"flex items-start justify-between mb-4"},N={class:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold text-xl"},R={class:"text-lg font-bold text-gray-900"},j={class:"text-gray-500 text-sm mb-4"},B={class:"flex gap-2 pt-4 border-t border-gray-50"},F=["onClick"],M=["onClick"];function V(l,t,g,o,a,p){const n=x("AdminNavbar");return m(),d("div",U,[u(n),e("div",C,[t[0]||(t[0]=e("div",{class:"flex justify-between items-center mb-8"},[e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"User Management"),e("p",{class:"text-gray-500 mt-1"},"Kelola akses dan peran pengguna sistem.")])],-1)),e("div",A,[(m(!0),d(f,null,h(o.users,s=>(m(),d("div",{key:s.id,class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow"},[e("div",$,[e("div",N,i(s.name.charAt(0)),1),e("span",{class:v([s.role==="admin"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700","px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider"])},i(s.role),3)]),e("h3",R,i(s.name),1),e("p",j,i(s.email),1),e("div",B,[e("button",{onClick:r=>o.changeRole(s.id,s.role),class:"flex-1 px-4 py-2 text-sm font-semibold bg-gray-50 text-gray-700 rounded-lg hover:bg-gray-100"}," Ubah Role ",8,F),e("button",{onClick:r=>o.deleteUser(s.id),class:"px-4 py-2 text-sm font-semibold bg-red-50 text-red-600 rounded-lg hover:bg-red-100"}," Hapus ",8,M)])]))),128))])])])}const E=b(k,[["render",V]]);export{E as default};
